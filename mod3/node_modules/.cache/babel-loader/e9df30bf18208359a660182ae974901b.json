{"ast":null,"code":"import _classCallCheck from \"/Users/flatironschool/inside_sherpa/JPMC-tech-task-3-PY3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/flatironschool/inside_sherpa/JPMC-tech-task-3-PY3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nexport var DataManipulator =\n/*#__PURE__*/\nfunction () {\n  function DataManipulator() {\n    _classCallCheck(this, DataManipulator);\n  }\n\n  _createClass(DataManipulator, null, [{\n    key: \"generateRow\",\n    value: function generateRow(serverResponds) {\n      var priceABC = (serverResponds[0].top_ask.price + serverResponds[0].top_bid.price) / 2;\n      var priceDEF = (serverResponds[1].top_ask.price + serverResponds[1].top_bid.price) / 2;\n      var ratio = priceABC / priceDEF;\n      var upperBound = 1 + 0.05;\n      var lowerBound = 1 - 0.05;\n      return serverResponds.map(function (el) {\n        return {\n          stock: el.stock,\n          top_ask_price: el.top_ask && el.top_ask.price || 0,\n          timestamp: el.timestamp\n        };\n      });\n    }\n  }]);\n\n  return DataManipulator;\n}();","map":{"version":3,"sources":["/Users/flatironschool/inside_sherpa/JPMC-tech-task-3-PY3/src/DataManipulator.ts"],"names":["DataManipulator","serverResponds","priceABC","top_ask","price","top_bid","priceDEF","ratio","upperBound","lowerBound","map","el","stock","top_ask_price","timestamp"],"mappings":";;AAaA,WAAaA,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,gCACqBC,cADrB,EAC6D;AACzD,UAAMC,QAAQ,GAAG,CAACD,cAAc,CAAC,CAAD,CAAd,CAAkBE,OAAlB,CAA0BC,KAA1B,GAAkCH,cAAc,CAAC,CAAD,CAAd,CAAkBI,OAAlB,CAA0BD,KAA7D,IAAsE,CAAvF;AACA,UAAME,QAAQ,GAAG,CAACL,cAAc,CAAC,CAAD,CAAd,CAAkBE,OAAlB,CAA0BC,KAA1B,GAAkCH,cAAc,CAAC,CAAD,CAAd,CAAkBI,OAAlB,CAA0BD,KAA7D,IAAsE,CAAvF;AACA,UAAMG,KAAK,GAAGL,QAAQ,GAAGI,QAAzB;AACA,UAAME,UAAU,GAAG,IAAI,IAAvB;AACA,UAAMC,UAAU,GAAG,IAAI,IAAvB;AAEA,aAAOR,cAAc,CAACS,GAAf,CAAmB,UAACC,EAAD,EAAa;AACrC,eAAO;AACLC,UAAAA,KAAK,EAAED,EAAE,CAACC,KADL;AAELC,UAAAA,aAAa,EAAEF,EAAE,CAACR,OAAH,IAAcQ,EAAE,CAACR,OAAH,CAAWC,KAAzB,IAAkC,CAF5C;AAGLU,UAAAA,SAAS,EAAEH,EAAE,CAACG;AAHT,SAAP;AAKD,OANM,CAAP;AAOD;AAfH;;AAAA;AAAA","sourcesContent":["import { ServerRespond } from './DataStreamer';\n\nexport interface Row {\n  price_abc: number,\n  price_def: number,\n  ratio: number,\n  timestamp: Date,\n  upper_bound: number,\n  lower_bound: number,\n  trigger_alert: number | undefined,\n}\n\n\nexport class DataManipulator {\n  static generateRow(serverResponds: ServerRespond[]): Row[] {\n    const priceABC = (serverResponds[0].top_ask.price + serverResponds[0].top_bid.price) / 2;\n    const priceDEF = (serverResponds[1].top_ask.price + serverResponds[1].top_bid.price) / 2;\n    const ratio = priceABC / priceDEF\n    const upperBound = 1 + 0.05;\n    const lowerBound = 1 - 0.05\n    \n    return serverResponds.map((el: any) => {\n      return {\n        stock: el.stock,\n        top_ask_price: el.top_ask && el.top_ask.price || 0,\n        timestamp: el.timestamp,\n      };\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}